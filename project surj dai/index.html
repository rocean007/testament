<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), payment=()">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

    <title>Annapurna Sewa - Work Permit Renewal Support & Flight Ticket Booking Services in Nepal</title>
    <meta name="description" content="Annapurna Sewa provides professional business services in Nepal including Work Permit Renewal, Flight Ticket Booking, and documentation assistance. Fast, reliable, and certified services in Kathmandu.">
    
    <meta property="og:title" content="Annapurna Sewa | Shram Swikriti Renewal Support">
    <meta property="og:description" content="Expert assistance with Work Permit Renewal Support and Flight Ticket Booking. Certified, fast, and reliable services in Kathmandu.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://annapurnasewa.com">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Annapurna Sewa Professional Services">
    <meta property="og:site_name" content="Annapurna Sewa">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Annapurna Sewa | Professional Business Services in Nepal">
    <meta name="twitter:description" content="Expert assistance with Work Permit Renewal and Flight Ticket Booking. Certified services in Kathmandu.">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://annapurnasewa.com">
    
    <!-- Favicon & App Icons -->
    <link rel="icon" href="favicon.png" type="image/x-icon">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#1a4f8b">
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
          integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer">

    <style>
        :root {
            --primary: #3B82F6;      /* Vibrant Blue - Trust & Professionalism */
            --primary-dark: #2563EB;
            --secondary: #EF4444;    /* Vibrant Red - Energy & Urgency */
            --secondary-dark: #DC2626;
            --accent: #F59E0B;       /* Golden Yellow - Success & Quality */
            --accent-light: #FBBF24;
            --mountain: #10B981;     /* Emerald Green - Nature & Authenticity */
            --light: #F8FAFC;
            --dark: #1E293B;
            --gray: #64748B;
            --success: #10B981;
            --shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            --radius: 16px;
            --gradient-primary: linear-gradient(135deg, var(--primary), #1D4ED8);
            --gradient-secondary: linear-gradient(135deg, var(--secondary), #B91C1C);
            --gradient-accent: linear-gradient(135deg, var(--accent), #D97706);
            --gradient-mountain: linear-gradient(135deg, #10B981, #059669, #047857);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Noto Sans Devanagari', sans-serif;
        }
        
        body {
            background: linear-gradient(rgba(255, 255, 255, 0.97), rgba(255, 255, 255, 0.98));
            color: var(--dark);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url(that.webp);
            background-size: cover;
            background-position: center bottom;
            background-attachment: fixed;
            opacity: 0.25;
            z-index: -1;
            filter: brightness(1.1) contrast(1.1);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Animation Classes - Reset state when not visible */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .animate-on-scroll.animated {
            opacity: 1;
            transform: translateY(0);
        }
        
        .scale-in {
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .scale-in.animated {
            opacity: 1;
            transform: scale(1);
        }
        
        .slide-in-left {
            opacity: 0;
            transform: translateX(-30px);
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .slide-in-left.animated {
            opacity: 1;
            transform: translateX(0);
        }
        
        .slide-in-right {
            opacity: 0;
            transform: translateX(30px);
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .slide-in-right.animated {
            opacity: 1;
            transform: translateX(0);
        }
        
        /* Header Styles */
        
        header {
            background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 50%, #eeeeee 100%);
            backdrop-filter: blur(20px);
            border-bottom: 2px solid rgba(59, 130, 246, 0.2);
            padding: 1.5rem 0;
            position: relative;
            top: 0;
            z-index: 100;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
            transform: translateY(0);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                        background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                        box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        header.scrolled {
            transform: translateY(0);
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-image {
            width: 90px;
            height: 90px;
            background: var(--gradient-mountain);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            cursor: default !important;
            animation: logoFloat 6s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }
        
        @keyframes logoFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(2deg); }
            75% { transform: translateY(5px) rotate(-1deg); }
        }
        
        .logo-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .logo-text {
            cursor: pointer;
        }
        .logo-text h1 {
            font-size: 2rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
            line-height: 1.2;
        }
        
        .logo-text p {
            font-size: 0.9rem;
            color: var(--gray);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .logo-text p span.nepali {
            font-family: 'Noto Sans Devanagari';
            color: var(--secondary);
            font-weight: 600;
        }

        /* Hero Section */
        .hero {
            padding: 5rem 0 3rem;
            text-align: center;
            position: relative;
            cursor: default !important;
        }
        
        .hero h2 {
            font-size: 3.2rem;
            background: linear-gradient(135deg, var(--dark), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 1.5rem;
            font-weight: 800;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 1.3rem;
            color: var(--gray);
            max-width: 800px;
            margin: 0 auto 3rem;
            line-height: 1.6;
            font-weight: 400;
        }
        
        .highlight {
            color: var(--secondary);
            font-weight: 700;
            font-family: 'Noto Sans Devanagari';
            position: relative;
            display: inline-block;
        }
        
        .highlight::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--gradient-secondary);
            border-radius: 2px;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hero:hover .highlight::after {
            transform: scaleX(1);
        }
        
        @media (max-width: 768px) {
    header {
        padding: 12px 16px;
        background: #ffffff;
        backdrop-filter: none;
        border-bottom: 1px solid #ffffff;
        position: relative;
        border-bottom: 1px solid rgba(59, 130, 246, 0.15);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }
    
    .logo-image {
        width: 50px;
        height: 50px;
    }
    
    .logo-text h1 {
        font-size: 18px;
        background: none;
        color: #09376a;
    }
}

        /* Services Grid - Responsive */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 2.5rem;
            margin-bottom: 5rem;
        }
        
        @media (max-width: 1100px) {
            .services-grid {
                grid-template-columns: 1fr;
                max-width: 600px;
                margin-left: auto;
                margin-right: auto;
            }
        }
        
        @media (max-width: 600px) {
            .services-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }
        
        .service-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.98));
            border-radius: var(--radius);
            padding: 3rem;
            box-shadow: var(--shadow);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
            cursor: default !important;
        }
        
        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .service-card:nth-child(2)::before {
            background: var(--gradient-secondary);
        }
        
        .service-card:hover::before {
            transform: scaleX(1);
        }
        
        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
            border-color: var(--primary);
        }
        
        .service-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient-primary);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            color: white;
            font-size: 2.2rem;
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: default !important;
        }
        
        .service-card:nth-child(2) .service-icon {
            background: var(--gradient-secondary);
            box-shadow: 0 10px 20px rgba(239, 68, 68, 0.3);
        }
        
        .service-card:hover .service-icon {
            transform: rotate(10deg) scale(1.1);
        }
        
        .service-card h3 {
            font-size: 2rem;
            color: var(--dark);
            margin-bottom: 1rem;
            font-weight: 800;
            cursor: default !important;
            position: relative;
            display: inline-block;
        }
        
        .service-card h3::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--gradient-primary);
            border-radius: 2px;
            transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .service-card:hover h3::after {
            width: 100%;
        }
        
        .service-card:nth-child(2) h3::after {
            background: var(--gradient-secondary);
        }
        
        .service-subtitle {
            color: var(--gray);
            font-size: 1rem;
            margin-bottom: 1.5rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: default !important;
        }
        
        .service-subtitle span {
            font-family: 'Noto Sans Devanagari';
            color: var(--secondary);
            font-weight: 600;
        }
        
        .service-features {
            margin-bottom: 2rem;
            flex-grow: 1;
            cursor: default !important;
        }
        
        .feature-list {
            list-style: none;
        }
        
        .feature-list li {
            color: var(--gray);
            margin-bottom: 0.8rem;
            line-height: 1.7;
            font-size: 1.1rem;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            opacity: 0.9;
            cursor: default !important;
            transform: translateX(0);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .feature-list li:hover {
            transform: translateX(10px);
        }
        
        .feature-list li i {
            color: var(--accent);
            font-size: 1.2rem;
            margin-top: 2px;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: default !important;
        }
        
        .service-card:hover .feature-list li i {
            transform: scale(1.2);
        }
        
        .feature-list li span.nepali {
            font-family: 'Noto Sans Devanagari';
            font-weight: 600;
            color: var(--dark);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .service-card:hover .feature-list li span.nepali {
            color: var(--primary-dark);
        }
        
        /* Button Styles */
        
        .primary-btn {
            background: var(--gradient-primary);
            color: white;
            border: none;
            padding: 1.2rem 2.5rem;
            border-radius: var(--radius);
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .primary-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .primary-btn:hover::before {
            left: 100%;
        }
        
        .primary-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(59, 130, 246, 0.4);
        }
        
        .secondary-btn {
            background: var(--gradient-secondary);
            color: white;
            border: none;
            padding: 1.2rem 2.5rem;
            border-radius: var(--radius);
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
            box-shadow: 0 10px 20px rgba(239, 68, 68, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .secondary-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .secondary-btn:hover::before {
            left: 100%;
        }
        
        .secondary-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(239, 68, 68, 0.4);
        }
        
        /* Flight Form Modal */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    display: none;
    z-index: 1000;
    animation: fadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow-y: auto;
    padding: 20px 0;
}

.modal-content {
    background: white;
    border-radius: var(--radius);
    padding: 3rem;
    max-width: 550px;
    width: 90%;
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
    animation: modalSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border: 2px solid var(--primary);
    /* Position it in viewport */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    margin: 0;
    /* Make sure it fits on screen */
    max-height: 85vh;
    overflow-y: auto;
}

@keyframes modalSlideIn {
    from { 
        opacity: 0; 
        transform: translate(-50%, -40%) scale(0.95); 
    }
    to { 
        opacity: 1; 
        transform: translate(-50%, -50%) scale(1); 
    }
}

@media (max-width: 768px) {
    .modal-overlay {
        padding: 20px 10px;
    }
    
    .modal-content {
        width: 95%;
        padding: 2rem;
        position: fixed; /* Use fixed positioning on mobile */
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        margin: 0;
        max-height: 90vh;
    }
}

/* For very small screens */
@media (max-height: 600px) {
    .modal-content {
        position: absolute;
        top: 20px;
        transform: translate(-50%, 0);
        margin-bottom: 20px;
    }
}
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--light);
        }
        
        .modal-header h3 {
            font-size: 1.8rem;
            color: var(--dark);
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 2rem;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-modal:hover {
            color: var(--secondary);
            background: var(--light);
        }
        
        .form-group {
            margin-bottom: 1.8rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.8rem;
            color: var(--dark);
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-control {
            width: 100%;
            padding: 1.1rem 1.2rem;
            border: 2px solid #E2E8F0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: #F8FAFC;
            font-weight: 500;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .form-note {
            font-size: 0.9rem;
            color: var(--gray);
            margin-top: 0.5rem;
            font-style: italic;
        }
        
        .autocomplete-container {
            position: relative;
            width: 100%;
        }
        
        .autocomplete-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #E2E8F0;
            border-radius: 12px;
            margin-top: 5px;
            max-height: 300px;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
            animation: fadeIn 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .autocomplete-item {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 1px solid #F1F5F9;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
        }
        
        .autocomplete-item:hover {
            background: #F8FAFC;
        }
        
        .autocomplete-item:last-child {
            border-bottom: none;
        }
        
        .airport-name {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 5px;
            font-size: 1rem;
        }
        
        .airport-location {
            font-size: 0.9rem;
            color: var(--gray);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .no-results {
            padding: 20px;
            text-align: center;
            color: var(--gray);
            font-style: italic;
        }
        
        .form-control.with-autocomplete {
            padding-right: 40px;
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            pointer-events: none;
        }
        
        /* FAQ Section - Repeating Animations */
        
        .faq-section {
            margin: 5rem 0;
            padding: 3rem 0;
            background: linear-gradient(rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.98));
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }
        
        .faq-title {
            text-align: center;
            font-size: 2.5rem;
            color: var(--dark);
            margin-bottom: 3rem;
            font-weight: 800;
            position: relative;
        }
        
        .faq-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }
        
        .faq-categories {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }
        
        .faq-category-btn {
            background: white;
            border: 2px solid #E2E8F0;
            padding: 1.2rem 2.5rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--dark);
        }
        
        .faq-category-btn.active {
            background: var(--gradient-primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
        }
        
        .faq-category-btn:hover:not(.active) {
            transform: translateY(-3px);
            border-color: var(--primary);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.1);
        }
        
        .faq-content {
            display: none;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .faq-content.active {
            display: block;
            animation: fadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* FAQ Item Animations - Reset when not visible */
        .faq-item {
            margin-bottom: 1rem;
            border: 2px solid #E2E8F0;
            border-radius: var(--radius);
            overflow: hidden;
            background: white;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: translateY(30px) scale(0.95);
            transform-origin: center bottom;
        }
        
        .faq-item.animated {
            opacity: 1;
            transform: translateY(0) scale(1);
            transition: opacity 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), 
                        transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1),
                        border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                        box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .faq-item.active {
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.15);
        }
        
        .faq-question {
            padding: 1.5rem 2rem;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--dark);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .faq-question:hover {
            background: #F8FAFC;
            padding-left: 2.5rem;
        }
        
        .faq-question i {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            color: var(--gray);
        }
        
        .faq-item.active .faq-question i {
            transform: rotate(180deg);
            color: var(--primary);
        }
        
        .faq-answer {
            padding: 0 2rem;
            max-height: 0;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(to bottom, #F8FAFC, #FFFFFF);
            border-top: 1px solid transparent;
        }
        
        .faq-item.active .faq-answer {
            padding: 2rem;
            max-height: 1000px;
            border-top-color: #E2E8F0;
        }
        
        .faq-answer p {
            color: var(--gray);
            line-height: 1.7;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .faq-item.active .faq-answer p {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.2s;
        }
        
        .faq-answer .nepali {
            font-family: 'Noto Sans Devanagari';
            font-weight: 600;
            color: var(--dark);
        }
        
        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--dark), #0F172A);
            color: white;
            padding: 3rem 0;
            margin-top: 4rem;
            position: relative;
            overflow: hidden;
        }
        
        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=30');
            background-size: cover;
            opacity: 0.15;
            z-index: 0;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
            position: relative;
            z-index: 1;
        }
        
        .footer-logo h3 {
            font-size: 1.8rem;
            color: white;
            font-weight: 800;
            margin-bottom: 0.5rem;
        }
        
        .footer-logo p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
        }
        
        .footer-contact {
            text-align: right;
        }
        
        .whatsapp-contact {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.1rem;
            box-shadow: 0 10px 20px rgba(37, 211, 102, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .whatsapp-contact::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .whatsapp-contact:hover::before {
            left: 100%;
        }
        
        .whatsapp-contact:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(37, 211, 102, 0.4);
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 30px;
            right: 30px;
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
            padding: 1.2rem 2rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            display: none;
            align-items: center;
            gap: 12px;
            z-index: 1001;
            animation: slideIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            min-width: 300px;
            border-left: 5px solid var(--accent);
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%) scale(0.8); opacity: 0; }
            to { transform: translateX(0) scale(1); opacity: 1; }
        }
        
        /* Mountain Range Decoration */
        .mountain-decoration {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 150px;
            background: linear-gradient(to top, rgba(16, 185, 129, 0.15), transparent);
            z-index: 0;
            pointer-events: none;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1.5rem;
                text-align: center;
            }
            
            .logo {
                flex-direction: column;
                text-align: center;
            }
            .hero h2 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .service-card {
                padding: 2rem;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .footer-content {
                flex-direction: column;
                text-align: center;
            }
            
            .footer-contact {
                text-align: center;
            }
            
            .modal-content {
                padding: 2rem;
            }
            
            .faq-title {
                font-size: 2rem;
            }
            
            .faq-category-btn {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
            
            .faq-question {
                padding: 1.2rem 1.5rem;
                font-size: 1.1rem;
            }
            
            .faq-item.active .faq-answer {
                padding: 1.5rem;
            }
        }
        
        /* Floating Elements */
        .floating-icon {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--gradient-mountain);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            box-shadow: var(--shadow);
            z-index: 9999;
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0., 1);
            animation: float 9s cubic-bezier(0.4, 0, 0.4, 1) infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }
        
        .floating-icon:hover {
            transform: scale(1.1) rotate(10deg);
            animation: none;
        }
        
        .language-badge {
            position: fixed;
            top: 30px;
            left: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 50px;
            padding: 8px 20px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            color: var(--primary);
            font-weight: 600;
            z-index: 50;
            border: 2px solid rgba(59, 130, 246, 0.2);
            animation: slideInLeft 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-100%) scale(0.8); opacity: 0; }
            to { transform: translateX(0) scale(1); opacity: 1; }
        }

                /* Flying Planes Animation */

    .flying-plane {
        position: fixed;
        z-index: -1;
        pointer-events: none;
        will-change: transform;
        transform: translateZ(0);
        contain: layout; 
        left: -100px;
        will-change: transform;       
        backface-visibility: hidden; 
    }
    
    @keyframes fly {
        0% {
            transform: translateX(-100px) translateY(0) rotate(0deg);
        }
        100% {
            transform: translateX(calc(100vw + 100px)) translateY(calc(50vh * var(--y-movement))) rotate(8deg);
        }
    }
  
        
        /* Progress Scroll Indicator */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: var(--gradient-primary);
            z-index: 101;
            transition: width 0.1s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Animated Mountain Background */
        .animated-mountains {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
            z-index: -1;
            opacity: 0.1;
        }
        
        .mountain {
            position: absolute;
            bottom: 0;
            background: linear-gradient(to top, var(--mountain), transparent);
            border-radius: 10px 10px 0 0;
            animation: mountainFloat 20s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }
        
        @keyframes mountainFloat {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.02); }
        }
        
/* ===== SIMPLE WELCOME ANIMATION CSS (NO SVG) ===== */
.welcome-animation {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    background: transparent;
    animation: fadeOutAnimation 1s ease-out 4.5s forwards;
    pointer-events: none;
}

@keyframes fadeOutAnimation {
    to {
        opacity: 0;
        visibility: hidden;
    }
}

.animation-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

/* Bigger Plane Animation */
.plane-wrapper {
    position: absolute;
    width: 250px;
    height: 250px;
    left: -300px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
    transform-origin: center;
    animation: planeFly 5s cubic-bezier(0.42, 0, 0.58, 1) forwards;
}

.plane {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: 
        drop-shadow(0 0 25px rgba(59, 130, 246, 0.8))
        drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
    transform-origin: center;
    animation: planePulse 2s ease-in-out infinite alternate;
}

@keyframes planePulse {
    0% {
        filter: 
            drop-shadow(0 0 20px rgba(59, 130, 246, 0.7))
            drop-shadow(0 8px 15px rgba(0, 0, 0, 0.25));
    }
    100% {
        filter: 
            drop-shadow(0 0 30px rgba(59, 130, 246, 0.9))
            drop-shadow(0 12px 20px rgba(0, 0, 0, 0.35));
    }
}

.plane-text {
    position: absolute;
    top: 85%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 18px;
    font-weight: 800;
    color: white;
    letter-spacing: 2px;
    text-transform: uppercase;
    text-shadow: 
        0 2px 8px rgba(0, 0, 0, 0.6),
        0 0 25px rgba(59, 130, 246, 1);
    white-space: nowrap;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, 
        rgba(59, 130, 246, 0.95) 0%, 
        rgba(37, 99, 235, 0.95) 100%);
    padding: 8px 20px;
    border-radius: 20px;
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 255, 255, 0.4);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
}

/* Simple Trail Effects */
.trail {
    position: absolute;
    height: 4px;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(59, 130, 246, 0.4) 15%, 
        rgba(59, 130, 246, 0.9) 35%, 
        rgba(59, 130, 246, 0.4) 65%, 
        transparent 100%);
    border-radius: 10px 2px 2px 10px;
    transform-origin: left center;
    opacity: 0;
    box-shadow: 
        0 0 15px rgba(59, 130, 246, 0.8),
        0 0 30px rgba(59, 130, 246, 0.4);
    filter: blur(0.5px);
}

.trail-1 {
    top: 35%;
    animation: trail1 5s cubic-bezier(0.42, 0, 0.58, 1) forwards;
}

.trail-2 {
    top: 50%;
    animation: trail2 5s cubic-bezier(0.42, 0, 0.58, 1) forwards;
    animation-delay: 0.05s;
}

.trail-3 {
    top: 65%;
    animation: trail3 5s cubic-bezier(0.42, 0, 0.58, 1) forwards;
    animation-delay: 0.1s;
}

/* Smooth Plane Flight Path */
@keyframes planeFly {
    0% {
        left: -300px;
        top: 50%;
        transform: translateY(-50%) rotate(-20deg) scale(0.8);
        opacity: 0;
    }
    10% {
        opacity: 0.6;
        transform: translateY(-50%) rotate(-10deg) scale(0.9);
    }
    20% {
        opacity: 1;
        transform: translateY(-50%) rotate(0deg) scale(1);
    }
    30% {
        left: 15%;
        top: 50%;
        transform: translateY(-50%) rotate(5deg) scale(1.05);
    }
    40% {
        transform: translateY(-50%) rotate(10deg) scale(1.1);
    }
    50% {
        left: 35%;
        top: 45%;
        transform: translateY(-50%) rotate(0deg) scale(1.15);
    }
    60% {
        left: 45%;
        top: 40%;
        transform: translateY(-50%) rotate(-15deg) scale(1.1);
    }
    70% {
        left: 40%;
        top: 30%;
        transform: translateY(-50%) rotate(-30deg) scale(1.05);
    }
    80% {
        left: 30%;
        top: 20%;
        transform: translateY(-50%) rotate(-45deg) scale(0.9);
        opacity: 0.7;
    }
    90% {
        left: 10%;
        top: 10%;
        transform: translateY(-50%) rotate(-55deg) scale(0.7);
        opacity: 0.3;
    }
    100% {
        left: -80px;
        top: 5%;
        transform: translateY(-50%) rotate(-60deg) scale(0.5);
        opacity: 0;
    }
}

/* Simple Trail Animations */
@keyframes trail1 {
    0% {
        left: -300px;
        top: calc(50% + 25px);
        width: 0;
        opacity: 0;
        transform: scaleX(0.5);
    }
    20% {
        opacity: 0.7;
        transform: scaleX(0.8);
    }
    40% {
        left: 10%;
        top: calc(50% - 15px);
        width: 30%;
        transform: scaleX(1);
    }
    60% {
        left: 25%;
        top: calc(45% - 10px);
        width: 40%;
        opacity: 0.9;
        transform: scaleX(1.1);
    }
    80% {
        left: 35%;
        top: calc(30% - 5px);
        width: 25%;
        transform: scaleX(0.9);
        opacity: 0.4;
    }
    100% {
        left: 40%;
        top: 20%;
        width: 0;
        opacity: 0;
        transform: scaleX(0.5);
    }
}

@keyframes trail2 {
    0% {
        left: -300px;
        top: 50%;
        width: 0;
        opacity: 0;
        transform: scaleX(0.6);
    }
    20% {
        opacity: 0.8;
        transform: scaleX(0.9);
    }
    40% {
        left: 10%;
        top: 50%;
        width: 30%;
        transform: scaleX(1);
    }
    60% {
        left: 25%;
        top: 45%;
        width: 45%;
        opacity: 1;
        transform: scaleX(1.2);
    }
    80% {
        left: 35%;
        top: 30%;
        width: 30%;
        transform: scaleX(0.95);
        opacity: 0.5;
    }
    100% {
        left: 45%;
        top: 25%;
        width: 0;
        opacity: 0;
        transform: scaleX(0.6);
    }
}

@keyframes trail3 {
    0% {
        left: -300px;
        top: calc(50% - 25px);
        width: 0;
        opacity: 0;
        transform: scaleX(0.5);
    }
    20% {
        opacity: 0.6;
        transform: scaleX(0.8);
    }
    40% {
        left: 10%;
        top: calc(50% + 15px);
        width: 25%;
        transform: scaleX(1);
    }
    60% {
        left: 25%;
        top: calc(45% + 10px);
        width: 35%;
        opacity: 0.8;
        transform: scaleX(1.1);
    }
    80% {
        left: 35%;
        top: calc(30% + 5px);
        width: 20%;
        transform: scaleX(0.9);
        opacity: 0.3;
    }
    100% {
        left: 50%;
        top: 30%;
        width: 0;
        opacity: 0;
        transform: scaleX(0.5);
    }
}

/* Welcome Text (after plane flies) */
.welcome-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 5;
    opacity: 0;
    animation: fadeInText 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    animation-delay: 3s;
}

.welcome-logo {
    width: 180px;
    height: 180px;
    margin: 0 auto 25px;
    opacity: 0;
    transform: scale(0.3) rotate(-10deg);
    animation: logoLand 1s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
    animation-delay: 3.3s;
    position: relative;
}

@keyframes logoLand {
    0% {
        opacity: 0;
        transform: scale(0.3) rotate(-10deg) translateY(50px);
    }
    60% {
        transform: scale(1.1) rotate(5deg) translateY(-10px);
    }
    80% {
        transform: scale(0.95) rotate(-2deg) translateY(5px);
    }
    100% {
        opacity: 1;
        transform: scale(1) rotate(0deg) translateY(0);
    }
}

.welcome-logo img {
    width: 100%;
    height: auto;
    display: block;
    filter: 
        drop-shadow(0 0 25px rgba(59, 130, 246, 0.8))
        drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
    animation: logoGlow 2s ease-in-out infinite alternate;
}

@keyframes logoGlow {
    from {
        filter: 
            drop-shadow(0 0 20px rgba(59, 130, 246, 0.6))
            drop-shadow(0 5px 15px rgba(0, 0, 0, 0.15));
    }
    to {
        filter: 
            drop-shadow(0 0 30px rgba(59, 130, 246, 1))
            drop-shadow(0 15px 25px rgba(0, 0, 0, 0.25));
    }
}

.welcome-text h1 {
    color: var(--dark);
    font-size: 2.8em;
    margin-bottom: 15px;
    text-shadow: 
        0 2px 10px rgba(59, 130, 246, 0.4),
        0 5px 20px rgba(0, 0, 0, 0.1);
    font-family: 'Poppins', sans-serif;
    font-weight: 800;
    animation: textPulse 2s ease-in-out infinite alternate;
}

.welcome-text p {
    color: var(--dark);
    font-size: 1.3em;
    font-weight: 600;
    opacity: 0.9;
    animation: fadeInUp 0.5s ease-out 0.2s both;
}

@keyframes fadeInText {
    to {
        opacity: 1;
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Simple Curved Line Effect (replaces SVG) */
.curved-line {
    position: absolute;
    width: 200px;
    height: 150px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 2;
    opacity: 0;
    animation: showLine 1.5s ease-out 3.5s forwards;
}

.curved-line::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 2px solid transparent;
    border-top: 2px solid rgba(59, 130, 246, 0.7);
    border-right: 2px solid rgba(59, 130, 246, 0.5);
    border-radius: 50% 0 0 0;
    transform: rotate(45deg);
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
}

.curved-line::after {
    content: '';
    position: absolute;
    top: 30%;
    left: 30%;
    width: 40%;
    height: 40%;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.6) 0%, transparent 70%);
    border-radius: 50%;
    filter: blur(5px);
    animation: sparkle 1s ease-in-out infinite alternate;
    animation-delay: 4s;
}

@keyframes showLine {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

@keyframes sparkle {
    0% {
        opacity: 0.3;
        transform: scale(0.8);
    }
    100% {
        opacity: 0.8;
        transform: scale(1.2);
    }
}

/* Main website content - initially hidden */
.website-content {
    opacity: 0;
    animation: fadeInContent 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    animation-delay: 5s;
}

@keyframes fadeInContent {
    from {
        opacity: 0;
        transform: scale(0.98);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}
/* ===== END WELCOME ANIMATION CSS ===== */

/* New features */
.email-link {
    text-decoration: none;
    color: rgba(255, 255, 255, 0.8);
}

.email-link:hover {
    background: rgba(234, 67, 53, 0.1);
    color:burlywood;
    transform: translateY(-2px);
}


/* Statistics */

        .stats {
            display: grid;
            width: 100%;
            min-width: device-width;
            padding: 20px;
        }
        
        /* Initial state - hidden and scaled down */
        .stat-item {
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            backdrop-filter: blur(10px);
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateY(50px) scale(0.9);
        }

        /* Visible state when scrolled to */
        .stat-item.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        /* Stagger the animations */
        .stat-item:nth-child(1).visible { transition-delay: 0.1s; }
        .stat-item:nth-child(2).visible { transition-delay: 0.2s; }
        .stat-item:nth-child(3).visible { transition-delay: 0.3s; }
        .stat-item:nth-child(4).visible { transition-delay: 0.4s; }

        .stat-item:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
        }

        .stat-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00c9ff, #92fe9d);
            transform: scaleX(0);
            transition: transform 0.6s ease 0.3s;
        }

        .stat-item.visible::before {
            transform: scaleX(1);
        }

        .icon-container {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            position: relative;
            transform: scale(0);
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.5s;
            margin: 0 auto;
        }

        .stat-item.visible .icon-container {
            transform: scale(1);
        }

        .icon-container i {
            color: #00c9ff;
        }

        .stat-number {
            font-weight: 800;
            background: linear-gradient(to right, #00c9ff, #92fe9d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 5px 15px rgba(0, 201, 255, 0.3);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.6s;
            margin-bottom: 5px;
        }

        .stat-item.visible .stat-number {
            opacity: 1;
            transform: translateY(0);
        }

        .stat-label {
            color: #fff;
            opacity: 0.9;
            font-weight: 500;
            letter-spacing: 0.5px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.8s;
            line-height: 1.3;
        }

        .stat-item.visible .stat-label {
            opacity: 1;
            transform: translateY(0);
        }

        /* Specific icon animations - only start when visible */
        .globe-icon {
            animation: rotate 20s linear infinite;
            animation-play-state: paused;
        }

        .stat-item.visible .globe-icon {
            animation-play-state: running;
        }

        .project-icon {
            animation: pulse 2s ease-in-out infinite;
            animation-play-state: paused;
        }

        .stat-item.visible .project-icon {
            animation-play-state: running;
        }

        .experience-icon {
            position: relative;
        }

        .experience-icon::after {
            content: '';
            position: absolute;
            color: #92fe9d;
            animation: float 3s ease-in-out infinite;
            animation-play-state: paused;
        }

        .stat-item.visible .experience-icon::after {
            animation-play-state: running;
        }

        .satisfaction-icon {
            animation: bounce 1.5s ease-in-out infinite;
            animation-play-state: paused;
        }

        .stat-item.visible .satisfaction-icon {
            animation-play-state: running;
        }

        /* Animations */
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 1; }
            33% { transform: translateY(-20px) translateX(10px); opacity: 0.7; }
            66% { transform: translateY(10px) translateX(-10px); opacity: 0.7; }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* ========== MOBILE (Phones) - SUPER COMPACT ========== */
        @media (max-width: 767px) {
            .stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
                padding: 15px;
            }
            
            .stat-item {
                border-radius: 12px;
                padding: 20px 12px;
                min-height: 140px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }
            
            .icon-container {
                width: 50px;
                height: 50px;
                margin-bottom: 12px;
            }
            
            .icon-container i {
                font-size: 22px;
            }
            
            .stat-number {
                font-size: 22px;
                margin-bottom: 3px;
            }
            
            .stat-label {
                font-size: 12px;
                letter-spacing: 0.2px;
            }
            
            .stat-item::before {
                height: 3px;
            }
            
            .experience-icon::after {
                font-size: 10px;
            }
            
            /* Smaller animations for mobile */
            @keyframes float {
                0%, 100% { transform: translateY(0) translateX(0); opacity: 1; }
                33% { transform: translateY(-10px) translateX(5px); opacity: 0.7; }
                66% { transform: translateY(5px) translateX(-5px); opacity: 0.7; }
            }
            
            @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
            }
            
            .stat-item:hover {
                transform: translateY(-5px) scale(1.03);
            }
        }

        /* ========== EXTRA SMALL PHONES ========== */
        @media (max-width: 360px) {
            .stats {
                gap: 10px;
                padding: 12px;
            }
            
            .stat-item {
                padding: 16px 10px;
                min-height: 130px;
                border-radius: 10px;
            }
            
            .icon-container {
                width: 45px;
                height: 45px;
                margin-bottom: 10px;
            }
            
            .icon-container i {
                font-size: 20px;
            }
            
            .stat-number {
                font-size: 20px;
            }
            
            .stat-label {
                font-size: 11px;
            }
            
            .experience-icon::after {
                font-size: 8px;
            }
        }

        /* ========== TABLET ========== */
        @media (min-width: 768px) and (max-width: 1023px) {
            .stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
                padding: 25px;
            }
            
            .stat-item {
                border-radius: 16px;
                padding: 30px 20px;
                min-height: 200px;
            }
            
            .icon-container {
                width: 80px;
                height: 80px;
                margin-bottom: 20px;
            }
            
            .icon-container i {
                font-size: 32px;
            }
            
            .stat-number {
                font-size: 36px;
                margin-bottom: 8px;
            }
            
            .stat-label {
                font-size: 16px;
            }
            
            .stat-item::before {
                height: 4px;
            }
            
            .experience-icon::after {
                font-size: 14px;
            }
        }

        /* ========== DESKTOP ========== */
        @media (min-width: 1024px) {
            .stats {
                grid-template-columns: repeat(4, 1fr);
                gap: 25px;
                padding: 30px;
            }
            
            .stat-item {
                border-radius: 20px;
                padding: 40px 30px;
                min-height: 250px;
            }
            
            .icon-container {
                width: 90px;
                height: 90px;
                margin-bottom: 25px;
            }
            
            .icon-container i {
                font-size: 40px;
            }
            
            .stat-number {
                font-size: 48px;
                margin-bottom: 10px;
            }
            
            .stat-label {
                font-size: 18px;
            }
            
            .stat-item::before {
                height: 4px;
            }
            
            .experience-icon::after {
                font-size: 16px;
            }
        }

        /* Hide scroll indicator for real website */
        .scroll-indicator {
            display: none !important;
        }

        .marquee-container {
            width: 100%;
            overflow: hidden;
            padding: 25px 0;
        }
        
        .marquee-track {
            display: flex;
            width: max-content;
            animation: marquee 30s linear infinite;
        }
        
        .marquee-container:hover .marquee-track {
            animation-play-state: paused;
        }
        
        .country-item {
            display: flex;
            align-items: center;
            margin: 0 15px;
            padding: 18px 28px;
            border-radius: 12px;
            white-space: nowrap;
            min-width: 200px;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.08);
            cursor: default;
            background: linear-gradient(135deg, #2b5876 0%, #4e4376 80%);


    }
        
        .country-flag {
            margin-right: 12px;
            font-size: 1.8rem;
        }
        
        .country-name {
            font-size: 1.3rem;
            font-weight: 600;
            color: #f0f0f0;
        }
        
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        @media (max-width: 768px) {
            .country-item {
                padding: 14px 20px;
                min-width: 170px;
                margin: 0 10px;
            }
            
            .country-flag { font-size: 1.5rem; }
            .country-name { font-size: 1.1rem; }
        }
        
        @media (max-width: 480px) {
            .country-item {
                padding: 12px 16px;
                min-width: 150px;
                margin: 0 8px;
            }
            .country-name { font-size: 1rem; }
        }

        /* Calculator */
        .widget-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
}

.floating-btn {
    height: 4rem;
    background: linear-gradient(135deg, #3498db, #2980b9);
    color: white;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    font-size: 1.5rem;
    box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
    transition: all 0.3s ease;
    gap: 0;
    padding: 0;
    width: auto;
    padding: 0 1rem;
    border-radius: 2rem;
    justify-content: space-between;
}

.btn-text {
        display: inline;
        font-size: 0.875rem;
        margin-left: 0.5rem;
        color: #f0f8ff;
    }

@media (min-width: 768px) {
    .floating-btn {
        width: auto;
        min-width: 12rem;
        height: 4.5rem;
        border-radius: 2.25rem;
        padding: 0 1.5rem;
        gap: 0.625rem;
        font-size: 1.75rem;
    }
    
    .btn-text {
        display: inline;
        font-size: 1.125rem;
        font-weight: 500;
    }
}

@media (min-width: 1024px) {
    .floating-btn {
        min-width: 14rem;
        height: 5rem;
        font-size: 2rem;
    }
    
    .btn-text {
        font-size: 1.25rem;
        color: #ecf9ff;
    }
}
        /* Calculator Popup */
        .calculator-popup {
            position: relative;
            bottom: 70px;
            right: 0;
            width: 320px;
            background: #FFF5EE;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            display: none;
            overflow: hidden;
        }

        .calculator-popup.show {
            display: block;
            animation: popupShow 0.3s ease;
        }

        @keyframes popupShow {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Popup Header */
        .popup-header {
            background: #1a1a2e;
            padding: 20px;
            text-align: center;
        }

        .popup-header h3 {
            font-size: 22px;
            margin-bottom: 5px;
            color: #e6e6fa;

        }

        /* Tabs */
        .tabs {
            display: flex;
            background: #f8f9fa;
        }

        .tab {
            flex: 1;
            padding: 15px;
            background: #FFF4E6;
            border: none;
            font-size: 14px;
            font-weight: 600;
            color: #5A3921;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .tab.active {
            color: #7B3F00;
            background: #F5D6C6;
            border-bottom: 3px solid #D4A76A;
        }

        /* Tab Content */
        .tab-content {
            padding: 25px;
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Input Styles */
        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #444;
            font-size: 14px;
        }

        .input-group input {
            width: 100%;
            padding: 14px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-group input:focus {
            border-color: #3498db;
            outline: none;
        }

        /* Calculate Button */
        .calc-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #059669 0%, #10B981 100%);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .calc-btn:hover {
            background: linear-gradient(135deg, #047857 0%, #0DA271 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.2);
        }

        /* Results */
        .results {
            background: #FEFCE8;
            border-radius: 16px;
            padding: 20px;
            margin-top: 25px;
            display: none;
            border: 1px solid #C4B5FD;
        }

        .results.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .result-title {
            font-size: 35px;
            font-weight: 700;
            color: #854D0E;
            border-bottom: 3px solid;
            border-image: linear-gradient(90deg, #FBBF24 30%, transparent 70%) 1;
            margin-bottom: 15px;
            text-align: center;
        }

        .result-amount {
            font-size: 30px;
            font-weight: 800;
            margin: 15px 0;
            text-align: center; 
            color: #CA8A04;
            text-shadow: 0 0 15px rgba(124, 58, 237, 0.3);
            border: 1px solid #86EFAC;
        }
        
        /* Close button */
        .close-popup {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255,255,255,0.1);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .widget-container {
                top: 15px;
                right: 15px;
            }
            
            .calculator-popup {
                width: 300px;
                right: -10px;
            }
        }

        @media (max-width: 500px) {
            .widget-container {
                top: 10px;
                right: 10px;
            }
            
            .calculator-popup {
                width: 280px;
                right: -15px;
            }
            
            .floating-btn {
                width: 55px;
                height: 55px;
                font-size: 22px;
            }
            
            .tab-content {
                padding: 20px;
            }
        }

        .service-question {
            font-size: clamp(1rem, 2vw, 1.5rem);
            color: var(--secondary);
            font-weight: 700;
            color: #00853E;
            margin-bottom: 1.5rem;
            font-family: 'Noto Sans Devanagari';
            transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .hint{
            color: #2C3E50;
        }

    </style>
</head>
<body>
    <!-- Scroll Progress Indicator -->
    <div class="scroll-progress" id="scrollProgress"></div>
    
    <!-- Welcome Animation -->
    <div class="welcome-animation" id="welcomeAnimation">
        <div class="animation-container">
            <div class="trail trail-1"></div>
            <div class="trail trail-2"></div>
            <div class="trail trail-3"></div>
            
            <div class="plane-wrapper" id="planeWrapper">
                <img class="plane" src="image.png" alt="Annapurna Sewa Plane" width="250" height="250">
                <div class="plane-text">Annapurna Sewa</div>
            </div>
            
            <div class="welcome-text">
                <div class="welcome-logo">
                    <img src="aspl.jpg" alt="Annapurna Sewa Logo" width="100" height="100">
                </div>
                <h1>Welcome to Annapurna Sewa</h1>
                <p>Your Trusted Partner for Professional Services</p>
            </div>
        </div>
    </div>
    
    <!-- Main Website Content -->
    <div class="website-content">
        <!-- Language Badge -->
        <div class="language-badge">
            <i class="fas fa-globe-asia"></i>
            <span>EN / <span class="nepali"></span></span>
        </div>
        
        <!-- Header -->
        <header id="mainHeader">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <div class="logo-image">
                            <img src="aspl.jpg" alt="Annapurna Sewa Logo" width="60" height="60">
                        </div>
                        <div class="logo-text">
                            <h1>Annapurna Sewa</h1>
                            <p><i class="fas fa-mountain"></i> <span class="nepali"> </span> | Professional Business Services</p>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Calculator Widget -->
    <div class="widget-container">
        <!-- Floating Button -->
        <button class="floating-btn" onclick="toggleCalculator()">
            <i class="fas fa-calculator"></i> 
            <span class="btn-text">Calculator</span>
        </button>
        

        <!-- Calculator Popup -->
        <div class="calculator-popup" id="calculatorPopup">
            <div class="popup-header">
                <button class="close-popup" onclick="closeCalculator()">
                    <i class="fas fa-times"></i>
                </button>
                <h3>  </h3>
            </div>

            <!-- Tabs -->
            <div class="tabs">
                <button class="tab active" onclick="switchTab('ageTab')">  (With Age)</button>
                <button class="tab" onclick="switchTab('dateTab')">  (With Birthdate)</button>
            </div>

            <!-- Age Tab -->
            <div class="tab-content active" id="ageTab">
                <div class="input-group">
                    <label for="ageInput"> (Age in years):</label>
                    <input type="number" id="ageInput" min="1" max="120" placeholder="Enter age" value="35">
                </div>
                <button class="calc-btn" onclick="calculateFromAge()">
                    <i class="fas fa-calculator"></i> Calculate Fee
                </button>
            </div>

            <!-- Birth Date Tab -->
            <div class="tab-content" id="dateTab">
                <div class="input-group">
                    <label for="dateInput">  (Birth Date):</label>
                    <input type="date" id="dateInput">
                </div>
                <button class="calc-btn" onclick="calculateFromDate()">
                    <i class="fas fa-calculator"></i> Calculate Fee
                </button>
            </div>

            <!-- Results Section -->
            <div class="results" id="results">
                <div class="result-title">   </div>
                <div class="result-amount" id="feeAmount"> 8,284</div>
                <div class="result-title">   </div>
                <div class="result-amount" id="feeAmountChange"> 8,434</div>
            </div>
        </div>
    </div>
        
        <!-- Flags motion -->
     <div class="marquee-container">
        <div class="marquee-track" id="marqueeTrack"></div>
    </div>

        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <h1 class="animate-on-scroll">    </h1>
                <h2 class="animate-on-scroll">Your Trusted Partner for Professional Services</h2>
                <p class="animate-on-scroll" style="transition-delay: 0.2s">Get expert assistance with <span class="highlight">Work Permit Renewal Assistance</span> and <span class="highlight">Flight Ticket Booking</span>.   ,       </p>
                <p class="animate-on-scroll" style="transition-delay: 0.4s">      ?    ?      </p>
            </div>
        </section>

        
        <!-- Services Section -->
        <section class="services">
            <div class="container">
                <div class="services-grid">
                    <!-- Work Permit Renewal Card -->
                    <div class="service-card slide-in-left">
                        <div class="service-icon">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <h3>  </h3>
                        <div class="service-subtitle">
                            <i class="fas fa-passport"></i>
                            <span>   </span>  Professional Assistance
                        </div>
                        <div class="service-features">
                            <ul class="feature-list">
                                <li><i class="fas fa-check-circle"></i> <span class="nepali">   </span></li>
                                <li><i class="fas fa-check-circle"></i> <span class="nepali">, , </span></li>
                                <li><i class="fas fa-check-circle"></i> <span class="nepali"> ,  </span></li>
                            </ul>
                            
                       <div class="faq-item">
                        <div class="faq-question">
                                  ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali"> :
                                  <br>
                                  /   <br>
                                  (Arrival)   (Departure)  <br>
                                          <br> </span></p>
                        </div>
                    </div>

                        </div>
                        <div class="service-question">
                                  ? <br>
                            <div class="hint">     : </div>
                        </div>
                        <button class="btn primary-btn" id="workPermitBtn" type="button">
                            <i class="fab fa-whatsapp"></i>
                            Send WhatsApp Request
                        </button>
                    </div>
                    
                    <!-- Flight Ticket Card -->
                    <div class="service-card slide-in-right">
                        <div class="service-icon">
                            <i class="fas fa-plane"></i>
                        </div>
                        <h3>Flight Ticket Booking</h3>
                        <div class="service-subtitle">
                            <i class="fas fa-ticket-alt"></i>
                            <span> </span>  Best Price Guarantee
                        </div>
                        <div class="service-features">
                            <ul class="feature-list">
                                <li><i class="fas fa-check-circle"></i> <span class="nepali"> </span></li>
                                <li><i class="fas fa-check-circle"></i> <span class="nepali"> </span></li>
                                <li><i class="fas fa-check-circle"></i> <span class="nepali"> ,  </span></li>
                            </ul>
                        </div>
                        <div class="service-question">
                                ? <br>
                            <div class="hint">          : </div>
                        </div>
                        <button class="btn secondary-btn" id="flightTicketBtn" type="button">
                            <i class="fas fa-search"></i>
                            Book Flight Ticket
                        </button>
                    </div>
                </div>
            </div>
        </section>
        
    <!-- Statistics Section -->
    <div class="stats">
        <div class="stat-item">
            <div class="icon-container">
                <i class="fas fa-globe-americas globe-icon"></i>
            </div>
            <div class="stat-number">17</div>
            <div class="stat-label">Countries Served</div>
        </div>
        <div class="stat-item">
            <div class="icon-container">
                <i class="fas fa-users project-icon"></i>
            </div>
            <div class="stat-number">100000+</div>
            <div class="stat-label">People Visited</div>
        </div>
        <div class="stat-item">
            <div class="icon-container">
                <i class="fas fa-award experience-icon"></i>
            </div>
            <div class="stat-number">2+</div>
            <div class="stat-label">Years Experience</div>
        </div>
        <div class="stat-item">
            <div class="icon-container">
                <i class="fas fa-heart satisfaction-icon"></i>
            </div>
            <div class="stat-number">98%</div>
            <div class="stat-label">Client Satisfaction</div>
        </div>
    </div>


        <!-- FAQ Section -->
        <section class="faq-section">
            <div class="container">
                <h2 class="faq-title animate-on-scroll">Frequently Asked Questions</h2>
                
                <div class="faq-categories">
                    <button class="faq-category-btn active" data-category="flight" type="button">
                        <i class="fas fa-plane"></i>
                        Flight Ticket Booking
                    </button>
                    <button class="faq-category-btn" data-category="permit" type="button">
                        <i class="fas fa-file-contract"></i>
                        Work Permit Renewal
                    </button>
                </div>
                
                <!-- Work Permit FAQ -->
                <div class="faq-content" id="permit-faq">
                    <div class="faq-item" data-delay="0.1">
                        <div class="faq-question">
                                ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">               </span></p>
                        </div>
                    </div>
                    
                    <div class="faq-item" data-delay="0.2">
                        <div class="faq-question">
                               ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali"> 715    </span></p>
                        </div>
                    </div>
                    
                    <div class="faq-item" data-delay="0.3">
                        <div class="faq-question">
                              ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">/ ,   ,   </span></p>
                        </div>
                    </div>
                    
                    <div class="faq-item" data-delay="0.4">
                        <div class="faq-question">
                            --  ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">             </span></p>
                        </div>
                    </div>
                    
                    <div class="faq-item" data-delay="0.5">
                        <div class="faq-question">
                              ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">           </span></p>
                        </div>
                    </div>
                    
                    <div class="faq-item" data-delay="0.6">
                        <div class="faq-question">
                                ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">        <a href="https://www.feo.gov.np">https://www.feo.gov.np</a>        
    
          </span></p>
                        </div>
                    </div>
                </div>

                <!-- Flight Ticket FAQ -->
                <div class="faq-content active" id="flight-faq">
                    <div class="faq-item" data-delay="0.1">
                        <div class="faq-question">
                               ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">              </span></p>
                        </div>
                    </div>
                    
                    <div class="faq-item" data-delay="0.2">
                        <div class="faq-question">
                                ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">  ,  , e-wallet      </span></p>
                        </div>
                    </div>
                    
                    <div class="faq-item" data-delay="0.3">
                        <div class="faq-question">
                                 ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">           </span></p>
                        </div>
                    </div>
                    
                    <div class="faq-item" data-delay="0.4">
                        <div class="faq-question">
                                 ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">     SMS   </span></p>
                        </div>
                    </div>
                    
                    <div class="faq-item" data-delay="0.5">
                        <div class="faq-question">
                             /    ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">  "My Bookings"        </span></p>
                        </div>
                    </div>
                    
                    <div class="faq-item" data-delay="0.6">
                        <div class="faq-question">
                                 ?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p><span class="nepali">  ,   ,  / </span></p>
                        </div>
                    </div>
                </div>
                
                
            </div>
        </section>
        
        <!-- Flight Booking Modal -->
        <div class="modal-overlay" id="flightModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle"><i class="fas fa-plane"></i> Flight Ticket Booking</h3>
                    <button class="close-modal" id="closeModal" type="button" aria-label="Close modal">&times;</button>
                </div>
                <form id="flightForm">
                    <div class="form-group">
                        <label for="fromLocation">
                            <i class="fas fa-plane-departure"></i>
                            Departure From
                        </label>
                        <div class="autocomplete-container">
                            <input type="text" id="fromLocation" class="form-control with-autocomplete" 
                                   placeholder="e.g., Kathmandu, Nepal" required autocomplete="off" 
                                   aria-describedby="fromHint">
                            <i class="fas fa-search search-icon"></i>
                            <div class="autocomplete-dropdown" id="fromDropdown" role="listbox" aria-label="Airport suggestions"></div>
                        </div>
                        <div class="form-note" id="fromHint">Start typing to search airports</div>
                    </div>
                    <div class="form-group">
                        <label for="toLocation">
                            <i class="fas fa-plane-arrival"></i>
                            Destination To
                        </label>
                        <div class="autocomplete-container">
                            <input type="text" id="toLocation" class="form-control with-autocomplete" 
                                   placeholder="e.g., Doha, Qatar" required autocomplete="off"
                                   aria-describedby="toHint">
                            <i class="fas fa-search search-icon"></i>
                            <div class="autocomplete-dropdown" id="toDropdown" role="listbox" aria-label="Airport suggestions"></div>
                        </div>
                        <div class="form-note" id="toHint">Start typing to search airports</div>
                    </div>
                    <div class="form-group">
                        <label for="travelDate">
                            <i class="fas fa-calendar-alt"></i>
                            Preferred Travel Date
                        </label>
                        <input type="date" id="travelDate" class="form-control" required
                               aria-describedby="dateHint">
                        <div class="form-note" id="dateHint">Select your preferred departure date</div>
                    </div>
                    <div class="form-group">
                        <label for="passengers">
                            <i class="fas fa-users"></i>
                            Number of Passengers
                        </label>
                        <select id="passengers" class="form-control" required>
                            <option value="1">1 Passenger</option>
                            <option value="2">2 Passengers</option>
                            <option value="3">3 Passengers</option>
                            <option value="4">4 Passengers</option>
                            <option value="5+">5+ Passengers (Contact for details)</option>
                        </select>

                        <select id="trip" class="form-control" required>
                            <option value="1">One Way Trip</option>
                            <option value="2">Round Trip</option>
                        </select>
                    </div>
                    <button type="submit" class="btn primary-btn">
                        <i class="fab fa-whatsapp"></i>
                        Send Request via WhatsApp
                    </button>
                </form>
            </div>
        </div>
        
        <!-- Footer -->
        <footer>
            <div class="container">
                <div class="footer-content">
                    <div class="footer-logo animate-on-scroll">
                        <h3>Annapurna Sewa</h3>
                        <p>Professional Business Services  Reliable & Trustworthy</p>
                        <a href="https://www.google.com/maps?q=Shivapuri School,+Kathmandu,+Nepal" style="text-decoration: none; color: inherit;">
                        <p style="margin-top: 10px; font-size: 0.9rem;"><i class="fas fa-map-marker-alt" style="background: linear-gradient(135deg, #EA4335, #FBBC05); -webkit-background-clip: text; background-clip: text; color: transparent;"></i> Shivapuri School, Kathmandu, Nepal</p>
                        </a>
                        <a href="mailto:meroaspl@gmail.com?subject=Inquiry%20from%20Annapurna%20Sewa%20Website&body=Hello%20Annapurna%20Sewa%20Team,%0D%0A%0D%0AI%20would%20like%20to%20inquire%20about%20your%20services." class="email-link">
                        <p style="font-size: 0.9rem;"><i class="fas fa-envelope" style="background: linear-gradient(135deg, #EA4335, #FBBC05); -webkit-background-clip: text; background-clip: text; color: transparent;"></i> meroaspl@gmail.com</p>
                        </a>
                        <a href="tel:+9779802398984" style="text-decoration: none; color: inherit;">
                        <p style="font-size: 0.9rem;"> <i class="fas fa-phone" style="background: linear-gradient(135deg, #EA4335, #FBBC05); -webkit-background-clip: text; background-clip: text; color: transparent;"></i> +9779802398984</p>
                        </a>

                    </div>
                    <div class="footer-contact animate-on-scroll" style="transition-delay: 0.2s">
                        <a href="https://wa.me/9779802398981" class="whatsapp-contact" target="_blank" rel="noopener noreferrer" id="footerWhatsApp">
                            <i class="fab fa-whatsapp"></i>
                            Contact us on WhatsApp
                        </a>
                        <p style="margin-top: 15px; opacity: 0.9;">Quick Response  Professional Service</p>
                    </div>
                </div>
            </div>
        </footer>
        
        <!-- Notification -->
        <div class="notification" id="notification" role="alert" aria-live="polite" aria-hidden="true">
            <i class="fas fa-check-circle"></i>
            <span id="notificationText">Message sent to WhatsApp!</span>
        </div>
    </div>
    <!-- Floating WhatsApp -->
        <div class="floating-icon" id="floatingWhatsApp" role="button" aria-label="Contact on WhatsApp" tabindex="0">
            <i class="fab fa-whatsapp"></i>
        </div>
    
    <script>
    'use strict';


// ========== GLOBAL ERROR HANDLERS ==========
window.addEventListener('error', (e) => {
    console.error('Global error:', e.error);
});

window.addEventListener('unhandledrejection', (e) => {
    console.error('Unhandled promise rejection:', e.reason);
});

// ========== INITIALIZATION ==========
document.addEventListener('DOMContentLoaded', () => {
    try {
        // Initialize all systems in order
        NotificationSystem.init();
        ScrollAnimations.init();
        ScrollProgress.init();
        ModalSystem.init();
        AirportSearch.init();
        FlightForm.init();
        FAQSystem.init();
        ButtonHandlers.init();
        FlyingPlanes.init();
        WelcomeAnimation.init();
        SmallFaq.init();
        
        console.log('Annapurna Sewa initialized successfully');
    } catch (error) {
        console.error('Initialization error:', error);
    }
});

// ========== CONFIGURATION ==========
const CONFIG = {
    whatsappNumber: "9779802398981",
    notificationDuration: 4000,
    welcomeAnimationCleanup: 8000,
    planeCreationInterval: 60000,
    searchDebounceDelay: 300,
    scrollThrottleDelay: 100
};

// ========== AIRPORT DATA ==========
const AIRPORTS = [
    // Nepal airports
    { name: "Tribhuvan International Airport", city: "Kathmandu", country: "Nepal", code: "KTM" },
    { name: "Pokhara International Airport", city: "Pokhara", country: "Nepal", code: "PKR" },
    { name: "Gautam Buddha International Airport", city: "Bhairahawa", country: "Nepal", code: "BWA" },
    
    // Middle East (Common for Nepali employment)
    { name: "Hamad International Airport", city: "Doha", country: "Qatar", code: "DOH" },
    { name: "Dubai International Airport", city: "Dubai", country: "UAE", code: "DXB" },
    { name: "Abu Dhabi International Airport", city: "Abu Dhabi", country: "UAE", code: "AUH" },
    { name: "King Fahd International Airport", city: "Dammam", country: "Saudi Arabia", code: "DMM" },
    { name: "King Abdulaziz International Airport", city: "Jeddah", country: "Saudi Arabia", code: "JED" },
    { name: "King Khalid International Airport", city: "Riyadh", country: "Saudi Arabia", code: "RUH" },
    { name: "Kuwait International Airport", city: "Kuwait City", country: "Kuwait", code: "KWI" },
    { name: "Bahrain International Airport", city: "Manama", country: "Bahrain", code: "BAH" },
    { name: "Muscat International Airport", city: "Muscat", country: "Oman", code: "MCT" },
    
    // Asia
    { name: "Indira Gandhi International Airport", city: "Delhi", country: "India", code: "DEL" },
    { name: "Chhatrapati Shivaji Maharaj International Airport", city: "Mumbai", country: "India", code: "BOM" },
    { name: "Kuala Lumpur International Airport", city: "Kuala Lumpur", country: "Malaysia", code: "KUL" },
    { name: "Singapore Changi Airport", city: "Singapore", country: "Singapore", code: "SIN" },
    { name: "Suvarnabhumi Airport", city: "Bangkok", country: "Thailand", code: "BKK" },
    { name: "Hong Kong International Airport", city: "Hong Kong", country: "China", code: "HKG" },
    { name: "Incheon International Airport", city: "Seoul", country: "South Korea", code: "ICN" },
    { name: "Tokyo Narita International Airport", city: "Tokyo", country: "Japan", code: "NRT" },
    { name: "Beijing Capital International Airport", city: "Beijing", country: "China", code: "PEK" },
    { name: "Shanghai Pudong International Airport", city: "Shanghai", country: "China", code: "PVG" },
    
    // Europe
    { name: "Heathrow Airport", city: "London", country: "UK", code: "LHR" },
    { name: "Charles de Gaulle Airport", city: "Paris", country: "France", code: "CDG" },
    { name: "Frankfurt Airport", city: "Frankfurt", country: "Germany", code: "FRA" },
    { name: "Amsterdam Airport Schiphol", city: "Amsterdam", country: "Netherlands", code: "AMS" },
    { name: "Istanbul Airport", city: "Istanbul", country: "Turkey", code: "IST" },
    
    // North America
    { name: "John F. Kennedy International Airport", city: "New York", country: "USA", code: "JFK" },
    { name: "Los Angeles International Airport", city: "Los Angeles", country: "USA", code: "LAX" },
    { name: "Toronto Pearson International Airport", city: "Toronto", country: "Canada", code: "YYZ" },
    { name: "Vancouver International Airport", city: "Vancouver", country: "Canada", code: "YVR" },
    
    // Australia
    { name: "Sydney Kingsford Smith Airport", city: "Sydney", country: "Australia", code: "SYD" },
    { name: "Melbourne Airport", city: "Melbourne", country: "Australia", code: "MEL" },
    
    // Other popular destinations
    { name: "Soekarno-Hatta International Airport", city: "Jakarta", country: "Indonesia", code: "CGK" },
    { name: "Ninoy Aquino International Airport", city: "Manila", country: "Philippines", code: "MNL" },
    { name: "Colombo Bandaranaike International Airport", city: "Colombo", country: "Sri Lanka", code: "CMB" },
    { name: "Dhaka Hazrat Shahjalal International Airport", city: "Dhaka", country: "Bangladesh", code: "DAC" }
];

// ========== GLOBAL ERROR HANDLERS (Enhanced) ==========
window.addEventListener('error', (e) => {
    console.error('Global error:', e.error);
    NotificationSystem.show('An unexpected error occurred. Please refresh the page.');
});

window.addEventListener('unhandledrejection', (e) => {
    console.error('Unhandled promise rejection:', e.reason);
    NotificationSystem.show('An unexpected error occurred. Please refresh the page.');
});

// ========== UTILITY FUNCTIONS ==========
const Utils = {
    // Safe element selector with error handling
    getElement: (selector) => {
        try {
            const element = document.getElementById(selector) || document.querySelector(selector);
            if (!element) {
                console.warn(`Element not found: ${selector}`);
            }
            return element;
        } catch (error) {
            console.error(`Error getting element ${selector}:`, error);
            return null;
        }
    },
    
    // Debounce function for performance optimization
    debounce: (func, wait) => {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    },
    
    // Throttle function for scroll performance
    throttle: (func, limit) => {
        let inThrottle;
        return function(...args) {
            if (!inThrottle) {
                func.apply(this, args);
                inThrottle = true;
                setTimeout(() => inThrottle = false, limit);
            }
        };
    },
    
    // Safe WhatsApp opener with error handling
    openWhatsApp: (message) => {
        try {
            const encodedMessage = encodeURIComponent(message);
            const url = `https://wa.me/${CONFIG.whatsappNumber}?text=${encodedMessage}`;
            window.open(url, '_blank', 'noopener,noreferrer');
            return true;
        } catch (error) {
            console.error('Error opening WhatsApp:', error);
            return false;
        }
    }
};

// ========== NOTIFICATION SYSTEM ==========
const NotificationSystem = {
    element: null,
    textElement: null,
    timeoutId: null,
    
    init: function() {
        this.element = Utils.getElement('notification');
        this.textElement = Utils.getElement('notificationText');
    },
    
    show: function(text) {
        if (!this.element || !this.textElement) {
            console.warn('Notification elements not found');
            return;
        }
        
        // Clear existing timeout
        if (this.timeoutId) {
            clearTimeout(this.timeoutId);
        }
        
        // Update text safely using textContent (XSS prevention)
        this.textElement.textContent = text;
        this.element.style.display = 'flex';
        
        // Auto-hide after configured duration
        this.timeoutId = setTimeout(() => {
            this.hide();
        }, CONFIG.notificationDuration);
    },
    
    hide: function() {
        if (this.element) {
            this.element.style.display = 'none';
        }
    }
};

// ========== SCROLL ANIMATIONS ==========
const ScrollAnimations = {
    observer: null,
    visibleElements: new Set(),
    
    init: function() {
        try {
            const options = {
                threshold: 0.15,
                rootMargin: '0px 0px -30px 0px'
            };
            
            this.observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (!this.visibleElements.has(entry.target)) {
                            entry.target.classList.add('animated');
                            this.visibleElements.add(entry.target);
                        }
                    } else {
                        if (this.visibleElements.has(entry.target)) {
                            entry.target.classList.remove('animated');
                            this.visibleElements.delete(entry.target);
                        }
                    }
                });
            }, options);
            
            // Observe all animated elements
            const elements = document.querySelectorAll('.animate-on-scroll, .slide-in-left, .slide-in-right, .faq-item');
            elements.forEach(el => this.observer.observe(el));
        } catch (error) {
            console.error('Error initializing scroll animations:', error);
        }
    },
    
    // Cleanup method to prevent memory leaks
    destroy: function() {
        if (this.observer) {
            this.observer.disconnect();
            this.observer = null;
        }
        this.visibleElements.clear();
    }
};

// ========== SCROLL PROGRESS ==========
const ScrollProgress = {
    element: null,
    header: null,
    
    init: function() {
        this.element = Utils.getElement('scrollProgress');
        this.header = Utils.getElement('mainHeader');
        
        if (!this.element) return;
        
        // Use throttled scroll handler for performance
        window.addEventListener('scroll', Utils.throttle(() => {
            this.update();
        }, CONFIG.scrollThrottleDelay), { passive: true });
    },
    
    update: function() {
        try {
            if (!this.element) return;
            
            const windowHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (window.scrollY / windowHeight) * 100;
            this.element.style.width = Math.min(Math.max(scrolled, 0), 100) + '%';
            
            // Update header styling
            if (this.header) {
                if (window.scrollY > 50) {
                    this.header.classList.add('scrolled');
                } else {
                    this.header.classList.remove('scrolled');
                }
            }
        } catch (error) {
            console.error('Error updating scroll progress:', error);
        }
    }
};

// ========== MODAL SYSTEM ==========
const ModalSystem = {
    modal: null,
    content: null,
    closeBtn: null,
    isOpen: false,
    
    init: function() {
        this.modal = Utils.getElement('flightModal');
        this.content = document.querySelector('.modal-content');
        this.closeBtn = Utils.getElement('closeModal');
        
        if (!this.modal || !this.closeBtn) return;
        
        // Close button handler
        this.closeBtn.addEventListener('click', () => this.close());
        
        // Click outside to close
        this.modal.addEventListener('click', (e) => {
            if (e.target === this.modal) {
                this.close();
            }
        });
        
        // Escape key to close
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && this.isOpen) {
                this.close();
            }
        });
    },
    
    open: function() {
        if (!this.modal) return;
        
        try {
            this.modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            this.isOpen = true;
            
            // Reset scroll position
            this.modal.scrollTop = 0;
            window.scrollTo(0, 0);
            
            // Adjust positioning after DOM update
            setTimeout(() => {
                if (!this.content) return;
                
                const viewportHeight = window.innerHeight;
                const modalHeight = this.content.offsetHeight;
                
                if (modalHeight > viewportHeight * 0.8) {
                    this.content.style.position = 'absolute';
                    this.content.style.top = '20px';
                    this.content.style.transform = 'translate(-50%, 0)';
                } else {
                    this.content.style.position = 'absolute';
                    this.content.style.top = '50%';
                    this.content.style.transform = 'translate(-50%, -50%)';
                }
            }, 50);
        } catch (error) {
            console.error('Error opening modal:', error);
        }
    },
    
    close: function() {
        if (!this.modal) return;
        
        try {
            this.modal.style.display = 'none';
            document.body.style.overflow = 'auto';
            this.isOpen = false;
            
            // Reset modal positioning
            if (this.content) {
                this.content.style.position = '';
                this.content.style.top = '';
                this.content.style.transform = '';
            }
        } catch (error) {
            console.error('Error closing modal:', error);
        }
    }
};

// ========== AIRPORT SEARCH ==========
const AirportSearch = {
    fromInput: null,
    toInput: null,
    fromDropdown: null,
    toDropdown: null,
    
    init: function() {
        this.fromInput = Utils.getElement('fromLocation');
        this.toInput = Utils.getElement('toLocation');
        this.fromDropdown = Utils.getElement('fromDropdown');
        this.toDropdown = Utils.getElement('toDropdown');
        
        if (!this.fromInput || !this.toInput) return;
        
        // Setup debounced input handlers
        this.fromInput.addEventListener('input', Utils.debounce(() => {
            this.search(this.fromInput, this.fromDropdown);
        }, CONFIG.searchDebounceDelay));
        
        this.toInput.addEventListener('input', Utils.debounce(() => {
            this.search(this.toInput, this.toDropdown);
        }, CONFIG.searchDebounceDelay));
        
        // Focus handlers
        this.fromInput.addEventListener('focus', () => {
            if (this.fromInput.value.length >= 2) {
                this.search(this.fromInput, this.fromDropdown);
            }
        });
        
        this.toInput.addEventListener('focus', () => {
            if (this.toInput.value.length >= 2) {
                this.search(this.toInput, this.toDropdown);
            }
        });
        
        // Click outside to close
        document.addEventListener('click', (e) => {
            if (this.fromInput && this.fromDropdown && 
                !this.fromInput.contains(e.target) && 
                !this.fromDropdown.contains(e.target)) {
                this.fromDropdown.style.display = 'none';
            }
            if (this.toInput && this.toDropdown && 
                !this.toInput.contains(e.target) && 
                !this.toDropdown.contains(e.target)) {
                this.toDropdown.style.display = 'none';
            }
        });
    },
    
    search: function(input, dropdown) {
        try {
            const query = input.value.trim();
            
            if (query.length < 2) {
                dropdown.style.display = 'none';
                return;
            }
            
            const results = this.searchAirports(query);
            this.renderResults(results, dropdown, input);
        } catch (error) {
            console.error('Error in airport search:', error);
        }
    },
    
    searchAirports: function(query) {
        if (!query || query.trim().length < 2) return [];
        
        const searchTerm = query.toLowerCase().trim();
        return AIRPORTS.filter(airport => {
            const searchString = `${airport.city.toLowerCase()} ${airport.country.toLowerCase()} ${airport.name.toLowerCase()} ${airport.code.toLowerCase()}`;
            return searchString.includes(searchTerm);
        }).sort((a, b) => {
            // Prioritize exact city matches
            const aCityMatch = a.city.toLowerCase().startsWith(searchTerm);
            const bCityMatch = b.city.toLowerCase().startsWith(searchTerm);
            if (aCityMatch && !bCityMatch) return -1;
            if (!aCityMatch && bCityMatch) return 1;
            return 0;
        }).slice(0, 10); // Limit results for performance
    },
    
    renderResults: function(results, dropdown, input) {
    try {
        dropdown.replaceChildren();
        
        if (results.length === 0) {
            const noResults = document.createElement('div');
            noResults.className = 'no-results';
            noResults.textContent = 'No airports found';
            dropdown.appendChild(noResults);
        } else {
            results.forEach(airport => {
                const item = document.createElement('div');
                item.className = 'autocomplete-item';
                
                const nameDiv = document.createElement('div');
                nameDiv.className = 'airport-name';
                
                const cityCountryText = document.createTextNode(`${airport.city}, ${airport.country}`);
                nameDiv.appendChild(cityCountryText);
                
                const codeSpan = document.createElement('span');
                codeSpan.style.cssText = 'color: var(--primary); font-size: 0.85rem; margin-left: 5px;';
                codeSpan.textContent = `(${airport.code})`;
                nameDiv.appendChild(codeSpan);
                
                const locationDiv = document.createElement('div');
                locationDiv.className = 'airport-location';
                
                const planeIcon = document.createElement('i');
                planeIcon.className = 'fas fa-plane';
                planeIcon.setAttribute('aria-hidden', 'true');
                
                const airportNameText = document.createTextNode(` ${airport.name}`);
                
                locationDiv.appendChild(planeIcon);
                locationDiv.appendChild(airportNameText);
                
                item.appendChild(nameDiv);
                item.appendChild(locationDiv);
                
                // Click handler
                item.addEventListener('click', () => {
                    input.value = `${airport.city}, ${airport.country}`;
                    dropdown.style.display = 'none';
                });
                
                dropdown.appendChild(item);
            });
        }
        
        dropdown.style.display = results.length > 0 ? 'block' : 'none';
    } catch (error) {
        console.error('Error rendering search results:', error);
    }
},
};

// ========== FLIGHT FORM ==========
const FlightForm = {
    form: null,
    dateInput: null,
    
    init: function() {
        this.form = Utils.getElement('flightForm');
        this.dateInput = Utils.getElement('travelDate');
        
        if (!this.form || !this.dateInput) return;
        
        const today = new Date();
        this.dateInput.min = today.toISOString().split('T')[0];
        
        const tomorrow = new Date(today);
        tomorrow.setDate(tomorrow.getDate() + 1);
        this.dateInput.value = tomorrow.toISOString().split('T')[0];
        
        // ADD DATE VALIDATION ON BLUR
        this.dateInput.addEventListener('blur', () => {
            const value = this.dateInput.value;
            if (!value || !/^\d{4}-\d{2}-\d{2}$/.test(value)) {
                this.dateInput.value = tomorrow.toISOString().split('T')[0];
                NotificationSystem.show('Invalid date. Please select from calendar.');
            }
        });
        
        this.dateInput.addEventListener('change', () => {
            const selectedDate = new Date(this.dateInput.value);
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            selectedDate.setHours(0, 0, 0, 0);
            
            if (selectedDate < today) {
                this.dateInput.style.borderColor = '#dc2626';
                this.dateInput.style.boxShadow = '0 0 0 2px rgba(220, 38, 38, 0.2)';
                NotificationSystem.show(' Selected date is in the past. Please choose a future date.');
            } else {
                this.dateInput.style.borderColor = '';
                this.dateInput.style.boxShadow = '';
            }
        });
        
        this.form.addEventListener('submit', (e) => this.handleSubmit(e));
    },

    validateAirport: function(inputValue, fieldName) {
        if (!inputValue || inputValue.trim() === '') {
            NotificationSystem.show(` Please select a ${fieldName} airport`);
            return false;
        }
        
        const normalizedInput = inputValue.toLowerCase().trim();
        
        if (!normalizedInput.includes(',')) {
            NotificationSystem.show(` Please select ${fieldName} airport from the dropdown (format: City, Country)`);
            return false;
        }
        
        const isValid = AIRPORTS.some(airport => {
            const cityCountry = `${airport.city}, ${airport.country}`.toLowerCase();
            return cityCountry === normalizedInput;
        });
        
        if (!isValid) {
            NotificationSystem.show(` Invalid ${fieldName} airport. Please select from the dropdown.`);
            return false;
        }
        
        return true;
    },
    
    sanitizeInput: function(input, maxLength = 100) {
        if (!input) return '';
        
        // Remove special characters but keep basic punctuation
        return input
            .trim()
            .replace(/[<>\"\'`]/g, '') // Remove potential XSS chars
            .replace(/[^\w\s,.-]/g, '') // Keep only alphanumeric, spaces, commas, dots, hyphens
            .substring(0, maxLength);
    },
    
    handleSubmit: function(e) {
        e.preventDefault();
        
        try {
            const fromInput = Utils.getElement('fromLocation');
            const toInput = Utils.getElement('toLocation');
            const passengersSelect = Utils.getElement('passengers');
            
            if (!fromInput || !toInput || !passengersSelect) {
                console.error('Form elements not found');
                NotificationSystem.show('An error occurred. Please try again.');
                return;
            }
            
            const fromLocation = fromInput.value.trim();
            const toLocation = toInput.value.trim();
            const travelDate = this.dateInput.value;
            const passengers = passengersSelect.value;
            
            // Basic validation
            if (!fromLocation || !toLocation || !travelDate || !passengers) {
                NotificationSystem.show('Please fill in all fields');
                return;
            }
            
            // Airport validation
            if (!this.validateAirport(fromLocation, "departure")) return;
            if (!this.validateAirport(toLocation, "arrival")) return;
            
            // Date validation
            const today = new Date();
            const selectedDate = new Date(travelDate);
            today.setHours(0, 0, 0, 0);
            selectedDate.setHours(0, 0, 0, 0);
            
            if (selectedDate < today) {
                NotificationSystem.show(' Cannot book flights in the past. Please select a future date.');
                this.dateInput.focus();
                return;
            }
            
            // Same airport check
            if (fromLocation.toLowerCase() === toLocation.toLowerCase()) {
                NotificationSystem.show(' Departure and arrival airports cannot be the same!');
                return;
            }
            
            //  NEW: Sanitize inputs before sending
            const safeFrom = this.sanitizeInput(fromLocation);
            const safeTo = this.sanitizeInput(toLocation);
            const safePassengers = this.sanitizeInput(passengers, 20);
            
            // Format date safely
            const formattedDate = new Date(travelDate).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Create sanitized message
            const message = `FLIGHT BOOKING REQUEST:\n\n From: ${safeFrom}\n To: ${safeTo}\n Travel Date: ${formattedDate}\n Passengers: ${safePassengers}\n\nPlease book the flight for me and provide the details.`;
            
            // Send to WhatsApp
            const success = Utils.openWhatsApp(message);
            
            if (success) {
                ModalSystem.close();
                this.form.reset();
                
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                this.dateInput.value = tomorrow.toISOString().split('T')[0];
                
                NotificationSystem.show(`Flight booking request sent for ${safeFrom} to ${safeTo}`);
            } else {
                NotificationSystem.show('Unable to open WhatsApp. Please try again.');
            }
        } catch (error) {
            console.error('Form submission error:', error);
            NotificationSystem.show('An error occurred. Please try again.');
        }
    }
};
          
//====== Small FAQ ======

const SmallFaq = {
    init: function() {
        const smallfaqi = document.querySelectorAll('.faq-item');
smallfaqi.forEach(item => {
            const question = item.querySelector('.faq-question');
            if (question) {
                question.addEventListener('click', function() {
                    const isActive = item.classList.contains('active');
                    if(!isActive) {
                        item.classList.add('active');
                    }
                    else {
                           item.classlist.remove('active'); 
                        }
            });
            }
        });
    }
};


// ========== FAQ SYSTEM ==========
const FAQSystem = {
    init: function() {
        const categoryBtns = document.querySelectorAll('.faq-category-btn');
        const faqItems = document.querySelectorAll('.faq-item');
        
        // Category switching
        categoryBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                try {
                    const category = this.getAttribute('data-category');
                    
                    // Update buttons
                    categoryBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update content
                    document.querySelectorAll('.faq-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    const targetContent = document.getElementById(`${category}-faq`);
                    if (targetContent) {
                        targetContent.classList.add('active');
                        
                        // Animate items
                        const newFaqItems = targetContent.querySelectorAll('.faq-item');
                        newFaqItems.forEach((item, index) => {
                            item.classList.remove('animated');
                            ScrollAnimations.visibleElements.delete(item);
                            
                            setTimeout(() => {
                                item.classList.add('animated');
                                ScrollAnimations.visibleElements.add(item);
                            }, index * 100);
                        });
                    }
                } catch (error) {
                    console.error('Error switching FAQ category:', error);
                }
            });
        });
        
        // FAQ item toggling
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            if (question) {
                question.addEventListener('click', function() {
                    try {
                        const isActive = item.classList.contains('active');
                        const category = item.closest('.faq-content').id;
                        const allItemsInCategory = document.querySelectorAll(`#${category} .faq-item`);
                        
                        // Close all items in category
                        allItemsInCategory.forEach(faqItem => {
                            faqItem.classList.remove('active');
                        });
                        
                        // Open clicked item if it wasn't active
                        if (!isActive) {
                            item.classList.add('active');
                        }
                    } catch (error) {
                        console.error('Error toggling FAQ item:', error);
                    }
                });
            }
        });
    }
};

// ========== FLYING PLANES ANIMATION ==========
const FlyingPlanes = {
    intervalId: null,
    
    init: function() {
        if (window.innerWidth < 768) {
        return;
    }
        this.createPlanes();
        
        // Recreate periodically
        this.intervalId = setInterval(() => {
            this.createPlanes();
        }, CONFIG.planeCreationInterval);
        
        // Recreate on resize (debounced)
        window.addEventListener('resize', Utils.debounce(() => {
            this.createPlanes();
        }, 500));
    },
    
    createPlanes: function() {
        try {
            // Clear existing planes
            document.querySelectorAll('.flying-plane').forEach(p => {
                if (p.parentNode) {
                    p.remove();
                }
            });
            
            const planeCount = 8;
            
            for (let i = 0; i < planeCount; i++) {
                const plane = document.createElement('div');
                plane.className = 'flying-plane';
                plane.setAttribute('aria-hidden', 'true');
                
                // Create icon safely
                const icon = document.createElement('i');
                icon.className = 'fas fa-plane';
                plane.appendChild(icon);
                
                // Random values
                const top = Math.random() * 80 + 10;
                const duration = 40 + Math.random() * 60;
                const startDelay = Math.random() * 35;
                const yMovement = (Math.random() - 0.5) * 0.25;
                const size = 1.2 + Math.random() * 1;
                
                plane.style.cssText = `
                    top: ${top}%;
                    --y-movement: ${yMovement};
                    animation: fly ${duration}s linear ${startDelay}s forwards;
                    font-size: ${size}rem;
                    opacity: ${0.06 + Math.random() * 0.12};                `;
                
                // Auto-remove after animation completes (prevent memory leaks)
                setTimeout(() => {
                    if (plane.parentNode) {
                        plane.remove();
                    }
                }, (duration + startDelay) * 1000 + 2000);
                
                document.body.appendChild(plane);
            }
        } catch (error) {
            console.error('Error creating flying planes:', error);
        }
    },
    
    // Cleanup method to prevent memory leaks
    destroy: function() {
        if (this.intervalId) {
            clearInterval(this.intervalId);
            this.intervalId = null;
        }
        document.querySelectorAll('.flying-plane').forEach(p => {
            if (p.parentNode) {
                p.remove();
            }
        });
    }
};

// ========== BUTTON HANDLERS ==========
const ButtonHandlers = {
    lastClickTime: {},
    cooldownPeriod: 2000, // 2 seconds
    
    canClick: function(buttonId) {
        const now = Date.now();
        const lastClick = this.lastClickTime[buttonId] || 0;
        
        if (now - lastClick < this.cooldownPeriod) {
            const remainingTime = Math.ceil((this.cooldownPeriod - (now - lastClick)) / 1000);
            NotificationSystem.show(`Please wait ${remainingTime} second(s) before sending another request`);
            return false;
        }
        
        this.lastClickTime[buttonId] = now;
        return true;
    },
    
    init: function() {
        // Work Permit Button
        const workPermitBtn = Utils.getElement('workPermitBtn');
        if (workPermitBtn) {
            workPermitBtn.addEventListener('click', () => {
                if (!this.canClick('workPermit')) return;
                
                const message = " ,        ";
                const success = Utils.openWhatsApp(message);
                if (success) {
                    NotificationSystem.show("Work permit renewal request sent via WhatsApp");
                }
            });
        }
        
        // Flight Ticket Button (no rate limit needed - just opens modal)
        const flightTicketBtn = Utils.getElement('flightTicketBtn');
        if (flightTicketBtn) {
            flightTicketBtn.addEventListener('click', () => {
                ModalSystem.open();
            });
        }
        
        // Floating WhatsApp Button
        const floatingWhatsApp = Utils.getElement('floatingWhatsApp');
        if (floatingWhatsApp) {
            floatingWhatsApp.addEventListener('click', () => {
                if (!this.canClick('floating')) return;
                
                const message = " ,          ";
                const success = Utils.openWhatsApp(message);
                if (success) {
                    NotificationSystem.show("Opening WhatsApp chat");
                }
            });
        }
    }
};

// ========== Stats initialization ==========
document.addEventListener('DOMContentLoaded', function() {
            const statItems = document.querySelectorAll('.stat-item');
            
            // Function to check if element is in viewport
            function isInViewport(element) {
                const rect = element.getBoundingClientRect();
                return (
                    rect.top <= (window.innerHeight * 0.85) &&
                    rect.bottom >= (window.innerHeight * 0.15)
                );
            }
            
            // Function to handle scroll events
            function handleScroll() {
                statItems.forEach((item, index) => {
                    if (isInViewport(item)) {
                        if (!item.classList.contains('visible')) {
                            item.classList.add('visible');
                            
                            // Trigger number counting for this specific stat
                            const statNumber = item.querySelector('.stat-number');
                            if (statNumber && !statNumber.classList.contains('counted')) {
                                countUp(statNumber);
                                statNumber.classList.add('counted');
                            }
                        }
                    }
                });
            }
            
            // Number counting animation
            function countUp(element) {
                const originalText = element.textContent;
                const hasPlus = originalText.includes('+');
                const hasPercent = originalText.includes('%');
                const pureNumber = parseInt(originalText);
                
                let current = 0;
                const increment = pureNumber / 50;
                const duration = 1500;
                const interval = duration / 50;
                
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= pureNumber) {
                        current = pureNumber;
                        clearInterval(timer);
                    }
                    
                    let displayValue = Math.floor(current);
                    if (hasPlus) displayValue += '+';
                    if (hasPercent) displayValue += '%';
                    
                    element.textContent = displayValue;
                }, interval);
            }
            
            handleScroll();
            
            let isScrolling = false;
            window.addEventListener('scroll', () => {
                if (!isScrolling) {
                    window.requestAnimationFrame(() => {
                        handleScroll();
                        isScrolling = false;
                    });
                    isScrolling = true;
                }
            });
            
            window.addEventListener('resize', handleScroll);
        });

const countries = [
            "Qatar", "Saudi Arabia", "United Arab Emirates (UAE)", 
            "Kuwait", "Bahrain", "Oman", "Malaysia", "Japan", 
            "South Korea", "Israel", "Maldives", "Romania", 
            "Cyprus", "Poland", "Portugal", "Mauritius", "Seychelles"
        ];
        
        const flagEmojis = {
            "Qatar": "", "Saudi Arabia": "", "United Arab Emirates (UAE)": "",
            "Kuwait": "", "Bahrain": "", "Oman": "", "Malaysia": "",
            "Japan": "", "South Korea": "", "Israel": "", "Maldives": "",
            "Romania": "", "Cyprus": "", "Poland": "", "Portugal": "",
            "Mauritius": "", "Seychelles": ""
        };
        
        const marqueeTrack = document.getElementById('marqueeTrack');
        
        // Create two sets for seamless looping
        for (let i = 0; i < 2; i++) {
            countries.forEach(country => {
                const countryItem = document.createElement('div');
                countryItem.className = 'country-item';
                
                const flagSpan = document.createElement('span');
                flagSpan.className = 'country-flag';
                flagSpan.textContent = flagEmojis[country] || "";
                
                const nameSpan = document.createElement('span');
                nameSpan.className = 'country-name';
                nameSpan.textContent = country;
                
                countryItem.appendChild(flagSpan);
                countryItem.appendChild(nameSpan);
                marqueeTrack.appendChild(countryItem);
            });
        }
        
        // Hover control
        document.querySelector('.marquee-container').addEventListener('mouseenter', () => {
            marqueeTrack.style.animationPlayState = 'paused';
        });
        
        document.querySelector('.marquee-container').addEventListener('mouseleave', () => {
            marqueeTrack.style.animationPlayState = 'running';
        });

// Flags movement
 document.addEventListener('DOMContentLoaded', function() {
            // Flags movement
            const countries = [
                "Qatar", "Saudi Arabia", "United Arab Emirates (UAE)", 
                "Kuwait", "Bahrain", "Oman", "Malaysia", "Japan", 
                "South Korea", "Israel", "Maldives", "Romania", 
                "Cyprus", "Poland", "Portugal", "Mauritius", "Seychelles"
            ];
            
            const flagEmojis = {
                "Qatar": "", "Saudi Arabia": "", "United Arab Emirates (UAE)": "",
                "Kuwait": "", "Bahrain": "", "Oman": "", "Malaysia": "",
                "Japan": "", "South Korea": "", "Israel": "", "Maldives": "",
                "Romania": "", "Cyprus": "", "Poland": "", "Portugal": "",
                "Mauritius": "", "Seychelles": ""
            };
            
            const marqueeTrack = document.getElementById('marqueeTrack');
            
            // Check if element exists
            if (!marqueeTrack) {
                console.error('Element with id "marqueeTrack" not found!');
                return;
            }
            
            // Create two sets for seamless looping
            for (let i = 0; i < 2; i++) {
                countries.forEach(country => {
                    const countryItem = document.createElement('div');
                    countryItem.className = 'country-item';
                    
                    const flagSpan = document.createElement('span');
                    flagSpan.className = 'country-flag';
                    flagSpan.textContent = flagEmojis[country] || "";
                    
                    const nameSpan = document.createElement('span');
                    nameSpan.className = 'country-name';
                    nameSpan.textContent = country;
                    
                    countryItem.appendChild(flagSpan);
                    countryItem.appendChild(nameSpan);
                    marqueeTrack.appendChild(countryItem);
                });
            }
            
            // Hover control
            const container = document.querySelector('.marquee-container');
            if (container) {
                container.addEventListener('mouseenter', () => {
                    marqueeTrack.style.animationPlayState = 'paused';
                });
                
                container.addEventListener('mouseleave', () => {
                    marqueeTrack.style.animationPlayState = 'running';
                });
            }
            
            console.log('Marquee initialized successfully!');
        });

// ========== Calculator ==========
        const today = new Date();
        const defaultDate = new Date(today.getFullYear() - 35, today.getMonth(), today.getDate());
        const formattedDate = defaultDate.toISOString().split('T')[0];
        document.getElementById('dateInput').value = formattedDate;
        document.getElementById('dateInput').max = today.toISOString().split('T')[0];

        // Fee structure
        const fees = {
            upTo35: 8284,
            above35: 8434
        };

        const feesChange = {
            upTo35: 9507,
            above35: 9657
        };

        // Toggle calculator popup
        function toggleCalculator() {
            const popup = document.getElementById('calculatorPopup');
            popup.classList.toggle('show');
        }

        // Close calculator
        function closeCalculator() {
            document.getElementById('calculatorPopup').classList.remove('show');
        }

        // Switch between tabs
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Activate clicked tab button
            event.target.classList.add('active');
            
            // Show results if already calculated
            const results = document.getElementById('results');
            if (results.classList.contains('show')) {
                results.classList.remove('show');
            }
        }

        // Calculate from age input
        function calculateFromAge() {
            const ageInput = document.getElementById('ageInput');
            const age = parseInt(ageInput.value);
            
            if (!age || age < 16 || age > 70) {
                alert('        ');
                ageInput.focus();
                return;
            }
            
            calculateFee(age);
        }

        // Calculate from birth date
        function calculateFromDate() {
            const dateInput = document.getElementById('dateInput').value;
            if (!dateInput) {
                alert('    ');
                return;
            }
            
            const birthDate = new Date(dateInput);
            const today = new Date();
            
            let age = today.getFullYear() - birthDate.getFullYear();
            const monthDiff = today.getMonth() - birthDate.getMonth();
            
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            
            // Update age input for consistency
            document.getElementById('ageInput').value = age;
            
            calculateFee(age);
        }

        // Calculate fee based on age
        function calculateFee(age) {
            let fee, group, groupNepali, feeChange;
            
            if (age <= 35) {
                fee = fees.upTo35;
                feeChange = feesChange.upTo35;
                
            }  else {
                fee = fees.above35;
                feeChange = feesChange.above35;
            }
            
            // Update results
            document.getElementById('feeAmount').textContent = ` ${fee.toLocaleString('en-IN')}`;
            document.getElementById('feeAmountChange').textContent = ` ${feeChange.toLocaleString('en-IN')}`;
            
            // Show results
            document.getElementById('results').classList.add('show');
            
            // Scroll results into view
            document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        document.addEventListener('click', function(event) {
            const popup = document.getElementById('calculatorPopup');
            const button = document.querySelector('.floating-btn');
            
            if (popup.classList.contains('show') && 
                !popup.contains(event.target) && 
                !button.contains(event.target)) {
                popup.classList.remove('show');
            }
        });

// ========== WELCOME ANIMATION CLEANUP ==========
const WelcomeAnimation = {
    init: function() {
        if (window.innerWidth < 768) {
        const welcomeAnim = document.getElementById('welcomeAnimation');
        const websiteContent = document.querySelector('.website-content');
        
        if (welcomeAnim) {
            welcomeAnim.style.display = 'none';
            welcomeAnim.remove();
        }
        
        if (websiteContent) {
            websiteContent.style.opacity = '1';
        }
        
        return;
    }
        setTimeout(() => {
            const welcomeAnimation = Utils.getElement('welcomeAnimation');
            if (welcomeAnimation && welcomeAnimation.parentNode) {
                welcomeAnimation.style.display = 'none';
                
                // Remove from DOM after fade out
                setTimeout(() => {
                    if (welcomeAnimation.parentNode) {
                        welcomeAnimation.remove();
                    }
                }, 1000);
            }
        }, CONFIG.welcomeAnimationCleanup);
    }
};

// ========== CLEANUP ON PAGE UNLOAD ==========
window.addEventListener('beforeunload', () => {
    try {
        ScrollAnimations.destroy();
        FlyingPlanes.destroy();
    } catch (error) {
        console.error('Cleanup error:', error);
    }
});
    </script>
</body>
</html>